{"ast":null,"code":"var _jsxFileName = \"/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport Axios from 'axios';\nimport EmptyResultPage from './EmptyResultPage';\nimport { withRouter } from 'react-router-dom';\n\nfunction tConvert(time) {\n  // Check correct time format and split into components\n  time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) {\n    // If time format correct\n    time = time.slice(1); // Remove full string match value\n\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\n  time[3] = \" \";\n  return time.join(''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n  if (open == close) return false;\n  let o = open.split(':'); // split it at the colons\n\n  let c = close.split(':'); // minutes are worth 60 seconds. Hours are worth 60 minutes.\n\n  let o_seconds = +o[0] * 60 * 60 + +o[1] * 60 + +o[2];\n  let c_seconds = +c[0] * 60 * 60 + +c[1] * 60 + +c[2];\n  let seconds = new Date().getTime() / 1000;\n  return seconds >= o_seconds && c_seconds >= seconds;\n}\n\nfunction mapTileProvider(x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n  let hr = [];\n\n  for (let i = 0; i < 7; i++) {\n    if (hours[i].hour_open == hours[i].hour_close) {\n      hr[i] = \"Closed\";\n    } else {\n      hr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n    }\n  }\n\n  return hr;\n}\n\nfunction createChecks(data, type) {\n  let checks = [];\n\n  for (let i = 0; i < data.length; i++) checks.push( /*#__PURE__*/React.createElement(CheckText, {\n    name: \"checkIcon\",\n    text: data[i][type],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }));\n\n  return checks;\n}\n\nexport default function ResultPage(props) {\n  const [data, setData] = useState({});\n  useEffect(() => {\n    async function fetchData() {\n      const result = await Axios.get(`../api/getClinicData/${props.match.params.clinic}`).then(function (response) {\n        setData(response.data);\n      });\n    }\n\n    fetchData();\n  }, []);\n  console.log(data);\n  console.log(!(Object.keys(data).length === 0 && data.constructor === Object));\n  let d = new Date();\n  let n = d.getDay();\n\n  if (!(Object.keys(data).length === 0 && data.constructor === Object)) {\n    console.log(\"asdsa\");\n    const map = /*#__PURE__*/React.createElement(Map, {\n      provider: mapTileProvider,\n      center: [data.lng, data.lat],\n      zoom: 16,\n      dprs: [1, 2],\n      mouseEvents: false,\n      touchEvents: false,\n      width: 250,\n      height: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      anchor: [data.lng, data.lat],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.resultContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      name: styles.searchLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.body,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.bodyHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, data.name), /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.currentHour,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, (data.rows[n].hours != \"Closed\" ? \"Open\" : \"\") + \" \" + data.rows[n].hours)), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.about,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, \" About \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, \" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.locationHours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, \" Location and Hours \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, map, /*#__PURE__*/React.createElement(\"h5\", {\n      className: styles.address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 8\n      }\n    }, data.address, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 55\n      }\n    }), \"  \", data.city + \", \" + data.state + \" \" + data.zipcode, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.hours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 8\n      }\n    }, \"Mon\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 42\n      }\n    }, data.rows[0].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 8\n      }\n    }, \"Tue\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 42\n      }\n    }, data.rows[1].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 8\n      }\n    }, \"Wed\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 42\n      }\n    }, data.rows[2].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 8\n      }\n    }, \"Thu\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 42\n      }\n    }, data.rows[3].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 8\n      }\n    }, \"Fri\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 42\n      }\n    }, data.rows[4].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 8\n      }\n    }, \"Sat\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 42\n      }\n    }, data.rows[5].hours), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 8\n      }\n    }, \"Sun\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 42\n      }\n    }, data.rows[6].hours))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ameneties,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.language,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 8\n      }\n    }, \"Language\"), data.language, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.insurance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }\n    }, \"Insurance\"), data.insurance, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 24\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.treatment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }\n    }, \"Treatments\"), data.treatment, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 24\n      }\n    })))), /*#__PURE__*/React.createElement(SimpleList, {\n      directions: \"https://google.com\",\n      phone: data.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 6\n      }\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(EmptyResultPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js"],"names":["React","useEffect","useState","SearchInput","Map","Marker","SimpleList","CheckText","Logo","styles","Axios","EmptyResultPage","withRouter","tConvert","time","toString","match","length","slice","join","isOpen","open","close","o","split","c","o_seconds","c_seconds","seconds","Date","getTime","mapTileProvider","x","y","z","dpr","convertHours","hours","hr","i","hour_open","hour_close","createChecks","data","type","checks","push","ResultPage","props","setData","fetchData","result","get","params","clinic","then","response","console","log","Object","keys","constructor","d","n","getDay","map","lng","lat","resultContainer","header","searchLogo","body","content","bodyHeader","name","currentHour","rows","about","locationHours","address","city","state","zipcode","day1","day2","day3","day4","day5","day6","day7","ameneties","language","insurance","treatment","phone"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA4C,OAA5C;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAGA,SAASC,QAAT,CAAmBC,IAAnB,EAAyB;AACvB;AACAA,EAAAA,IAAI,GAAGA,IAAI,CAACC,QAAL,GAAiBC,KAAjB,CAAwB,0CAAxB,KAAuE,CAACF,IAAD,CAA9E;;AAEA,MAAIA,IAAI,CAACG,MAAL,GAAc,CAAlB,EAAqB;AAAE;AACrBH,IAAAA,IAAI,GAAGA,IAAI,CAACI,KAAL,CAAY,CAAZ,CAAP,CADmB,CACK;;AACxBJ,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACA,IAAI,CAAC,CAAD,CAAL,GAAW,EAAX,GAAgB,IAAhB,GAAuB,IAAjC,CAFmB,CAEoB;;AACvCA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACA,IAAI,CAAC,CAAD,CAAL,GAAW,EAAX,IAAiB,EAA3B,CAHmB,CAGY;AAChC;;AACFA,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAV;AACC,SAAOA,IAAI,CAACK,IAAL,CAAW,EAAX,CAAP,CAVuB,CAUA;AACxB;;AAED,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,KAAtB,EAA6B;AAC5B,MAAID,IAAI,IAAIC,KAAZ,EACC,OAAO,KAAP;AACD,MAAIC,CAAC,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAR,CAH4B,CAGH;;AACzB,MAAIC,CAAC,GAAGH,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAR,CAJ4B,CAK5B;;AACA,MAAIE,SAAS,GAAI,CAACH,CAAC,CAAC,CAAD,CAAH,GAAU,EAAV,GAAe,EAAf,GAAqB,CAACA,CAAC,CAAC,CAAD,CAAH,GAAU,EAA9B,GAAoC,CAACA,CAAC,CAAC,CAAD,CAAtD;AACA,MAAII,SAAS,GAAI,CAACF,CAAC,CAAC,CAAD,CAAH,GAAU,EAAV,GAAe,EAAf,GAAqB,CAACA,CAAC,CAAC,CAAD,CAAH,GAAU,EAA9B,GAAoC,CAACA,CAAC,CAAC,CAAD,CAAtD;AAEA,MAAIG,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAArC;AACA,SAAOF,OAAO,IAAIF,SAAX,IAAwBC,SAAS,IAAIC,OAA5C;AACA;;AAGD,SAASG,eAAT,CAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,CAAhC,EAAmCC,GAAnC,EAAwC;AACtC,SAAQ,6CAA4CD,CAAE,IAAGF,CAAE,IAAGC,CAAE,GAAEE,GAAG,IAAI,CAAP,GAAW,KAAX,GAAmB,EAAG,+BAAxF;AACD;;AAED,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC5B,MAAIC,EAAE,GAAG,EAAT;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3B,QAAIF,KAAK,CAACE,CAAD,CAAL,CAASC,SAAT,IAAsBH,KAAK,CAACE,CAAD,CAAL,CAASE,UAAnC,EAA+C;AAC9CH,MAAAA,EAAE,CAACC,CAAD,CAAF,GAAQ,QAAR;AACC,KAFF,MAGK;AACJD,MAAAA,EAAE,CAACC,CAAD,CAAF,GAAQ1B,QAAQ,CAACwB,KAAK,CAACE,CAAD,CAAL,CAASC,SAAV,CAAR,GAA+B,KAA/B,GAAuC3B,QAAQ,CAACwB,KAAK,CAACE,CAAD,CAAL,CAASE,UAAV,CAAvD;AACA;AACD;;AACD,SAAOH,EAAP;AACA;;AAED,SAASI,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AACjC,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,IAAI,CAAC1B,MAAzB,EAAiCsB,CAAC,EAAlC,EACCM,MAAM,CAACC,IAAP,eAAY,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,WAAhB;AAA4B,IAAA,IAAI,EAAEH,IAAI,CAACJ,CAAD,CAAJ,CAAQK,IAAR,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAZ;;AACD,SAAOC,MAAP;AACA;;AAED,eAAe,SAASE,UAAT,CAAqBC,KAArB,EAA4B;AAC1C,QAAM,CAACL,IAAD,EAAOM,OAAP,IAAkB/C,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAeiD,SAAf,GAA2B;AAC1B,YAAMC,MAAM,GAAG,MAAMzC,KAAK,CAAC0C,GAAN,CAAW,wBAAuBJ,KAAK,CAAChC,KAAN,CAAYqC,MAAZ,CAAmBC,MAAO,EAA5D,EAA+DC,IAA/D,CAAqE,UAASC,QAAT,EAAmB;AAC7GP,QAAAA,OAAO,CAACO,QAAQ,CAACb,IAAV,CAAP;AACC,OAFoB,CAArB;AAGA;;AACDO,IAAAA,SAAS;AACT,GAPQ,EAON,EAPM,CAAT;AASAO,EAAAA,OAAO,CAACC,GAAR,CAAYf,IAAZ;AACAc,EAAAA,OAAO,CAACC,GAAR,CAAY,EAAEC,MAAM,CAACC,IAAP,CAAYjB,IAAZ,EAAkB1B,MAAlB,KAA6B,CAA7B,IAAkC0B,IAAI,CAACkB,WAAL,KAAqBF,MAAzD,CAAZ;AACA,MAAIG,CAAC,GAAG,IAAIjC,IAAJ,EAAR;AACA,MAAIkC,CAAC,GAAGD,CAAC,CAACE,MAAF,EAAR;;AAEA,MAAI,EAAEL,MAAM,CAACC,IAAP,CAAYjB,IAAZ,EAAkB1B,MAAlB,KAA6B,CAA7B,IAAkC0B,IAAI,CAACkB,WAAL,KAAqBF,MAAzD,CAAJ,EAAsE;AACrEF,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,UAAMO,GAAG,gBACR,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAElC,eAAf;AAAgC,MAAA,MAAM,EAAE,CAACY,IAAI,CAACuB,GAAN,EAAWvB,IAAI,CAACwB,GAAhB,CAAxC;AAA8D,MAAA,IAAI,EAAE,EAApE;AAAwE,MAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CAA9E;AAAsF,MAAA,WAAW,EAAE,KAAnG;AAA0G,MAAA,WAAW,EAAE,KAAvH;AAA8H,MAAA,KAAK,EAAE,GAArI;AAA0I,MAAA,MAAM,EAAI,GAApJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,CAACxB,IAAI,CAACuB,GAAN,EAAWvB,IAAI,CAACwB,GAAhB,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AAMA,wBACC;AAAK,MAAA,SAAS,EAAI1D,MAAM,CAAC2D,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAI3D,MAAM,CAAC4D,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAE5D,MAAM,CAAC6D,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,eAMC;AAAK,MAAA,SAAS,EAAI7D,MAAM,CAAC8D,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAI9D,MAAM,CAAC+D,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAK,MAAA,SAAS,EAAI/D,MAAM,CAACgE,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK9B,IAAI,CAAC+B,IAAV,CADD,eAEC;AAAI,MAAA,SAAS,EAAIjE,MAAM,CAACkE,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsC,CAAEhC,IAAI,CAACiC,IAAL,CAAUb,CAAV,EAAa1B,KAAb,IAAsB,QAAvB,GAAmC,MAAnC,GAA4C,EAA7C,IAAmD,GAAnD,GAAyDM,IAAI,CAACiC,IAAL,CAAUb,CAAV,EAAa1B,KAA5G,CAFD,CAFA,eAOA;AAAK,MAAA,SAAS,EAAI5B,MAAM,CAACoE,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gbAFD,CAPA,eAYA;AAAK,MAAA,SAAS,EAAIpE,MAAM,CAACqE,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,eAEC;AAAK,MAAA,SAAS,EAAIrE,MAAM,CAACwD,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEA,GADF,eAEC;AAAI,MAAA,SAAS,EAAIxD,MAAM,CAACsE,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCpC,IAAI,CAACoC,OAAvC,eAA+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA/C,QAAwDpC,IAAI,CAACqC,IAAL,GAAY,IAAZ,GAAmBrC,IAAI,CAACsC,KAAxB,GAAgC,GAAhC,GAAsCtC,IAAI,CAACuC,OAAnG,MAFD,CAFD,eAOC;AAAK,MAAA,SAAS,EAAIzE,MAAM,CAAC4B,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC0E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,eACmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBxC,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CADnC,eAEC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC2E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFD,eAEmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBzC,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CAFnC,eAGC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC4E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHD,eAGmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB1C,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CAHnC,eAIC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC6E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJD,eAImC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB3C,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CAJnC,eAKC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC8E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALD,eAKmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB5C,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CALnC,eAMC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAAC+E,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAND,eAMmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB7C,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CANnC,eAOC;AAAG,MAAA,SAAS,EAAE5B,MAAM,CAACgF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPD,eAOmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB9C,IAAI,CAACiC,IAAL,CAAU,CAAV,EAAavC,KAArC,CAPnC,CAPD,CAZA,eA+BC;AAAK,MAAA,SAAS,EAAI5B,MAAM,CAACiF,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAIjF,MAAM,CAACkF,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,EAEChD,IAAI,CAACgD,QAFN,eAEe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFf,CADD,eAKC;AAAK,MAAA,SAAS,EAAIlF,MAAM,CAACmF,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,EAECjD,IAAI,CAACiD,SAFN,eAEgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFhB,CALD,eASC;AAAK,MAAA,SAAS,EAAInF,MAAM,CAACoF,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAEClD,IAAI,CAACkD,SAFN,eAEgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFhB,CATD,CA/BD,CADD,eAgDC,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAI,oBAA1B;AAAgD,MAAA,KAAK,EAAIlD,IAAI,CAACmD,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDD,CAND,CADD;AA2DD,GAnEA,MAoEK;AACJ,wBAAQ,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACA;AACD","sourcesContent":["import React, { useEffect, useState }  from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport Axios from 'axios';\nimport EmptyResultPage from './EmptyResultPage';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction tConvert (time) {\n  // Check correct time format and split into components\n  time = time.toString ().match (/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) { // If time format correct\n    time = time.slice (1);  // Remove full string match value\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\ttime[3] = \" \";\n  return time.join (''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n\tif (open == close)\n\t\treturn false;\n\tlet o = open.split(':'); // split it at the colons\n\tlet c = close.split(':');\n\t// minutes are worth 60 seconds. Hours are worth 60 minutes.\n\tlet o_seconds = (+o[0]) * 60 * 60 + (+o[1]) * 60 + (+o[2]); \n\tlet c_seconds = (+c[0]) * 60 * 60 + (+c[1]) * 60 + (+c[2]);\n\t\n\tlet seconds = new Date().getTime() / 1000;\n\treturn seconds >= o_seconds && c_seconds >= seconds;\n}\n\n\nfunction mapTileProvider (x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n\tlet hr = [];\n\tfor (let i = 0; i < 7; i++) {\n\t\tif (hours[i].hour_open == hours[i].hour_close) {\n\t\t\thr[i] = \"Closed\";\n\t\t\t}\n\t\telse {\n\t\t\thr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n\t\t}\n\t} \t\n\treturn hr;\n}\n\nfunction createChecks(data, type) {\n\tlet checks = [];\n\tfor (let i = 0; i < data.length; i++)\n\t\tchecks.push(<CheckText name=\"checkIcon\" text={data[i][type]}/>);\t\n\treturn checks;\n}\n\nexport default function ResultPage (props) {\n\tconst [data, setData] = useState({});\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst result = await Axios.get(`../api/getClinicData/${props.match.params.clinic}`).then( function(response) {\n\t\t\tsetData(response.data);\n\t\t\t});\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconsole.log(data)\n\tconsole.log(!(Object.keys(data).length === 0 && data.constructor === Object));\n\tlet d = new Date();\n\tlet n = d.getDay();\n\n\tif (!(Object.keys(data).length === 0 && data.constructor === Object)) {\n\t\tconsole.log(\"asdsa\");\n\t\tconst map = (\n\t\t\t<Map provider={mapTileProvider} center={[data.lng, data.lat]} zoom={16} dprs={[1, 2]} mouseEvents={false} touchEvents={false} width={250} height = {150}>\n\t\t\t\t<Marker anchor={[data.lng, data.lat]} />\n\t\t\t</Map>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className = {styles.resultContainer}>\n\t\t\t\t<div className = {styles.header}>\n\t\t\t\t\t<Logo name={styles.searchLogo}/>\n\t\t\t\t\t<SearchInput />\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div className = {styles.body}>\n\t\t\t\t\t<div className = {styles.content}>\n\n\t\t\t\t\t<div className = {styles.bodyHeader}>\n\t\t\t\t\t\t<h1>{data.name}</h1>\n\t\t\t\t\t\t<h3 className = {styles.currentHour}>{((data.rows[n].hours != \"Closed\") ? \"Open\" : \"\") + \" \" + data.rows[n].hours}</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.about}>\n\t\t\t\t\t\t<h2> About </h2>\n\t\t\t\t\t\t<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. </p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.locationHours}>\n\t\t\t\t\t\t<h2> Location and Hours </h2>\n\t\t\t\t\t\t<div className = {styles.map}>\n\t\t\t\t\t\t\t{map}\n\t\t\t\t\t\t\t<h5 className = {styles.address}>{data.address}<br />  {data.city + \", \" + data.state + \" \" + data.zipcode} </h5>\t\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className = {styles.hours}>\n\t\t\t\t\t\t\t<b className={styles.day1}>Mon</b><div className=\"hour1\">{data.rows[0].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day2}>Tue</b><div className=\"hour2\">{data.rows[1].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day3}>Wed</b><div className=\"hour3\">{data.rows[2].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day4}>Thu</b><div className=\"hour4\">{data.rows[3].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day5}>Fri</b><div className=\"hour5\">{data.rows[4].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day6}>Sat</b><div className=\"hour6\">{data.rows[5].hours}</div>\n\t\t\t\t\t\t\t<b className={styles.day7}>Sun</b><div className=\"hour7\">{data.rows[6].hours}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className = {styles.ameneties}>\n\t\t\t\t\t\t\t<div className = {styles.language}>\n\t\t\t\t\t\t\t<h4>Language</h4>\n\t\t\t\t\t\t\t{data.language}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className = {styles.insurance}>\n\t\t\t\t\t\t\t<h4>Insurance</h4>\n\t\t\t\t\t\t\t{data.insurance}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className = {styles.treatment}>\n\t\t\t\t\t\t\t<h4>Treatments</h4>\n\t\t\t\t\t\t\t{data.treatment}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<SimpleList directions = {\"https://google.com\"} phone = {data.phone} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\telse {\n\t\treturn (<EmptyResultPage />);\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}