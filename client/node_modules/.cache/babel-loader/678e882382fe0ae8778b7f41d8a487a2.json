{"ast":null,"code":"var _jsxFileName = \"/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport Axios from 'axios';\nimport EmptyResultPage from './EmptyResultPage';\nimport Loader from 'react-loader-spinner';\nimport { withRouter } from 'react-router-dom';\n\nfunction tConvert(time) {\n  // Check correct time format and split into components\n  time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) {\n    // If time format correct\n    time = time.slice(1); // Remove full string match value\n\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\n  time[3] = \" \";\n  return time.join(''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n  if (open == close) return false;\n  let o = open.split(':'); // split it at the colons\n\n  let c = close.split(':'); // minutes are worth 60 seconds. Hours are worth 60 minutes.\n\n  let o_seconds = +o[0] * 60 * 60 + +o[1] * 60 + +o[2];\n  let c_seconds = +c[0] * 60 * 60 + +c[1] * 60 + +c[2];\n  let seconds = new Date().getTime() / 1000;\n  return seconds >= o_seconds && c_seconds >= seconds;\n}\n\nfunction mapTileProvider(x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n  let hr = [];\n\n  for (let i = 0; i < 7; i++) {\n    if (hours[i].hour_open == hours[i].hour_close) {\n      hr[i] = \"Closed\";\n    } else {\n      hr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n    }\n  }\n\n  return hr;\n}\n\nfunction generateDirectionLink(address) {\n  return `https://www.google.com/maps/dir/?api=1&destination${address.replace(\" \", \"+\")}`;\n}\n\nfunction createChecks(data, type) {\n  let checks = [];\n\n  for (let i = 0; i < data.length; i++) checks.push( /*#__PURE__*/React.createElement(CheckText, {\n    name: styles.genericCheck,\n    text: data[i][type],\n    textName: styles.genericCheckText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }));\n\n  return checks;\n}\n\nexport default function ResultPage(props) {\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    async function fetchData() {\n      const result = await Axios.get(`../api/getClinicData/${props.match.params.clinic}`).then(function (response) {\n        setData(response.data);\n        setIsLoading(false);\n      });\n    }\n\n    fetchData();\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.resultContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      name: styles.searchLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.loaderBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      className: styles.loader,\n      type: \"ThreeDots\",\n      color: \"#00Bff\",\n      height: 100,\n      width: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 6\n      }\n    })));\n  }\n\n  let d = new Date();\n  let n = d.getDay();\n\n  if (!(Object.keys(data).length === 0 && data.constructor === Object) && data[\"rows\"].length > 0) {\n    let hours = convertHours(data.rows);\n    console.log(data);\n    const map = /*#__PURE__*/React.createElement(Map, {\n      provider: mapTileProvider,\n      center: [data.rows[0].longitude, data.rows[0].latitude],\n      zoom: 16,\n      dprs: [1, 2],\n      mouseEvents: false,\n      touchEvents: false,\n      width: 250,\n      height: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      anchor: [data.rows[0].longitude, data.rows[0].latitude],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.resultContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      name: styles.searchLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.body,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.bodyHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, props.match.params.clinic), /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.currentHour,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, (data.rows[n].hours != \"Closed\" ? \"Open\" : \"\") + \" \" + hours[n])), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.about,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, \" About \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, \" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.locationHours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, \" Location and Hours \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, map, /*#__PURE__*/React.createElement(\"h5\", {\n      className: styles.address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }\n    }, data.rows[0].address, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 63\n      }\n    }), \"  \", data.rows[0].city + \", \" + data.rows[0].state + \" \" + data.rows[0].zipcode, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.hours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 8\n      }\n    }, \"Mon\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 42\n      }\n    }, hours[0]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 8\n      }\n    }, \"Tue\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 42\n      }\n    }, hours[1]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 8\n      }\n    }, \"Wed\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 42\n      }\n    }, hours[2]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 8\n      }\n    }, \"Thu\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 42\n      }\n    }, hours[3]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 8\n      }\n    }, \"Fri\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 42\n      }\n    }, hours[4]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 8\n      }\n    }, \"Sat\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 42\n      }\n    }, hours[5]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 8\n      }\n    }, \"Sun\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 42\n      }\n    }, hours[6]))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ameneties,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.language,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 8\n      }\n    }, \"Language\"), createChecks(data.language, \"language\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.insurance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 8\n      }\n    }, \"Insurance\"), createChecks(data.insurance, \"insurance\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 51\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.treatment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 8\n      }\n    }, \"Treatments\"), createChecks(data.treatment, \"treatment\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 51\n      }\n    })))), /*#__PURE__*/React.createElement(SimpleList, {\n      directions: generateDirectionLink(data.rows[0].address),\n      phone: data.rows[0].phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(EmptyResultPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    });\n  }\n}","map":{"version":3,"sources":["/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js"],"names":["React","useEffect","useState","SearchInput","Map","Marker","SimpleList","CheckText","Logo","styles","Axios","EmptyResultPage","Loader","withRouter","tConvert","time","toString","match","length","slice","join","isOpen","open","close","o","split","c","o_seconds","c_seconds","seconds","Date","getTime","mapTileProvider","x","y","z","dpr","convertHours","hours","hr","i","hour_open","hour_close","generateDirectionLink","address","replace","createChecks","data","type","checks","push","genericCheck","genericCheckText","ResultPage","props","setData","isLoading","setIsLoading","fetchData","result","get","params","clinic","then","response","resultContainer","header","searchLogo","loaderBody","loader","d","n","getDay","Object","keys","constructor","rows","console","log","map","longitude","latitude","body","content","bodyHeader","currentHour","about","locationHours","city","state","zipcode","day1","day2","day3","day4","day5","day6","day7","ameneties","language","insurance","treatment","phone"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA4C,OAA5C;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAGA,SAASC,QAAT,CAAmBC,IAAnB,EAAyB;AACvB;AACAA,EAAAA,IAAI,GAAGA,IAAI,CAACC,QAAL,GAAiBC,KAAjB,CAAwB,0CAAxB,KAAuE,CAACF,IAAD,CAA9E;;AAEA,MAAIA,IAAI,CAACG,MAAL,GAAc,CAAlB,EAAqB;AAAE;AACrBH,IAAAA,IAAI,GAAGA,IAAI,CAACI,KAAL,CAAY,CAAZ,CAAP,CADmB,CACK;;AACxBJ,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACA,IAAI,CAAC,CAAD,CAAL,GAAW,EAAX,GAAgB,IAAhB,GAAuB,IAAjC,CAFmB,CAEoB;;AACvCA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACA,IAAI,CAAC,CAAD,CAAL,GAAW,EAAX,IAAiB,EAA3B,CAHmB,CAGY;AAChC;;AACFA,EAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAV;AACC,SAAOA,IAAI,CAACK,IAAL,CAAW,EAAX,CAAP,CAVuB,CAUA;AACxB;;AAED,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,KAAtB,EAA6B;AAC5B,MAAID,IAAI,IAAIC,KAAZ,EACC,OAAO,KAAP;AACD,MAAIC,CAAC,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAR,CAH4B,CAGH;;AACzB,MAAIC,CAAC,GAAGH,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAR,CAJ4B,CAK5B;;AACA,MAAIE,SAAS,GAAI,CAACH,CAAC,CAAC,CAAD,CAAH,GAAU,EAAV,GAAe,EAAf,GAAqB,CAACA,CAAC,CAAC,CAAD,CAAH,GAAU,EAA9B,GAAoC,CAACA,CAAC,CAAC,CAAD,CAAtD;AACA,MAAII,SAAS,GAAI,CAACF,CAAC,CAAC,CAAD,CAAH,GAAU,EAAV,GAAe,EAAf,GAAqB,CAACA,CAAC,CAAC,CAAD,CAAH,GAAU,EAA9B,GAAoC,CAACA,CAAC,CAAC,CAAD,CAAtD;AAEA,MAAIG,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAArC;AACA,SAAOF,OAAO,IAAIF,SAAX,IAAwBC,SAAS,IAAIC,OAA5C;AACA;;AAGD,SAASG,eAAT,CAA0BC,CAA1B,EAA6BC,CAA7B,EAAgCC,CAAhC,EAAmCC,GAAnC,EAAwC;AACtC,SAAQ,6CAA4CD,CAAE,IAAGF,CAAE,IAAGC,CAAE,GAAEE,GAAG,IAAI,CAAP,GAAW,KAAX,GAAmB,EAAG,+BAAxF;AACD;;AAED,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC5B,MAAIC,EAAE,GAAG,EAAT;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3B,QAAIF,KAAK,CAACE,CAAD,CAAL,CAASC,SAAT,IAAsBH,KAAK,CAACE,CAAD,CAAL,CAASE,UAAnC,EAA+C;AAC9CH,MAAAA,EAAE,CAACC,CAAD,CAAF,GAAQ,QAAR;AACC,KAFF,MAGK;AACJD,MAAAA,EAAE,CAACC,CAAD,CAAF,GAAQ1B,QAAQ,CAACwB,KAAK,CAACE,CAAD,CAAL,CAASC,SAAV,CAAR,GAA+B,KAA/B,GAAuC3B,QAAQ,CAACwB,KAAK,CAACE,CAAD,CAAL,CAASE,UAAV,CAAvD;AACA;AACD;;AACD,SAAOH,EAAP;AACA;;AAED,SAASI,qBAAT,CAA+BC,OAA/B,EAAwC;AACvC,SAAQ,qDAAoDA,OAAO,CAACC,OAAR,CAAgB,GAAhB,EAAqB,GAArB,CAA0B,EAAtF;AACA;;AACD,SAASC,YAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;AACjC,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGO,IAAI,CAAC7B,MAAzB,EAAiCsB,CAAC,EAAlC,EACCS,MAAM,CAACC,IAAP,eAAY,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEzC,MAAM,CAAC0C,YAAxB;AACT,IAAA,IAAI,EAAEJ,IAAI,CAACP,CAAD,CAAJ,CAAQQ,IAAR,CADG;AAET,IAAA,QAAQ,EAAEvC,MAAM,CAAC2C,gBAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAZ;;AAGD,SAAOH,MAAP;AACA;;AAED,eAAe,SAASI,UAAT,CAAqBC,KAArB,EAA4B;AAC1C,QAAM,CAACP,IAAD,EAAOQ,OAAP,IAAkBrD,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsD,SAAD,EAAYC,YAAZ,IAA4BvD,QAAQ,CAAC,IAAD,CAA1C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAeyD,SAAf,GAA2B;AAC1B,YAAMC,MAAM,GAAG,MAAMjD,KAAK,CAACkD,GAAN,CAAW,wBAAuBN,KAAK,CAACrC,KAAN,CAAY4C,MAAZ,CAAmBC,MAAO,EAA5D,EAA+DC,IAA/D,CAAqE,UAASC,QAAT,EAAmB;AAC7GT,QAAAA,OAAO,CAACS,QAAQ,CAACjB,IAAV,CAAP;AACAU,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACC,OAHoB,CAArB;AAIA;;AACDC,IAAAA,SAAS;AACT,GARQ,EAQN,EARM,CAAT;;AAWA,MAAIF,SAAJ,EAAe;AACd,wBACC;AAAK,MAAA,SAAS,EAAI/C,MAAM,CAACwD,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAIxD,MAAM,CAACyD,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAEzD,MAAM,CAAC0D,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,eAKC;AAAK,MAAA,SAAS,EAAI1D,MAAM,CAAC2D,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAE3D,MAAM,CAAC4D,MAA1B;AAAkC,MAAA,IAAI,EAAC,WAAvC;AAAmD,MAAA,KAAK,EAAC,QAAzD;AAAkE,MAAA,MAAM,EAAE,GAA1E;AAA+E,MAAA,KAAK,EAAE,GAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CALD,CADD;AAWA;;AACD,MAAIC,CAAC,GAAG,IAAIxC,IAAJ,EAAR;AACA,MAAIyC,CAAC,GAAGD,CAAC,CAACE,MAAF,EAAR;;AAEA,MAAI,EAAEC,MAAM,CAACC,IAAP,CAAY3B,IAAZ,EAAkB7B,MAAlB,KAA6B,CAA7B,IAAkC6B,IAAI,CAAC4B,WAAL,KAAqBF,MAAzD,KAAoE1B,IAAI,CAAC,MAAD,CAAJ,CAAa7B,MAAb,GAAsB,CAA9F,EAAiG;AAChG,QAAIoB,KAAK,GAAGD,YAAY,CAACU,IAAI,CAAC6B,IAAN,CAAxB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY/B,IAAZ;AACA,UAAMgC,GAAG,gBACR,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAE/C,eAAf;AAAgC,MAAA,MAAM,EAAE,CAACe,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaI,SAAd,EAAyBjC,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaK,QAAtC,CAAxC;AAAyF,MAAA,IAAI,EAAE,EAA/F;AAAmG,MAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAzG;AAAiH,MAAA,WAAW,EAAE,KAA9H;AAAqI,MAAA,WAAW,EAAE,KAAlJ;AAAyJ,MAAA,KAAK,EAAE,GAAhK;AAAqK,MAAA,MAAM,EAAI,GAA/K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAE,CAAClC,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaI,SAAd,EAAyBjC,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaK,QAAtC,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AAMA,wBACC;AAAK,MAAA,SAAS,EAAIxE,MAAM,CAACwD,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAIxD,MAAM,CAACyD,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAEzD,MAAM,CAAC0D,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,eAMC;AAAK,MAAA,SAAS,EAAI1D,MAAM,CAACyE,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAIzE,MAAM,CAAC0E,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEA;AAAK,MAAA,SAAS,EAAI1E,MAAM,CAAC2E,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK9B,KAAK,CAACrC,KAAN,CAAY4C,MAAZ,CAAmBC,MAAxB,CADD,eAEC;AAAI,MAAA,SAAS,EAAIrD,MAAM,CAAC4E,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAsC,CAAEtC,IAAI,CAAC6B,IAAL,CAAUL,CAAV,EAAajC,KAAb,IAAsB,QAAvB,GAAmC,MAAnC,GAA4C,EAA7C,IAAmD,GAAnD,GAAyDA,KAAK,CAACiC,CAAD,CAApG,CAFD,CAFA,eAOA;AAAK,MAAA,SAAS,EAAI9D,MAAM,CAAC6E,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gbAFD,CAPA,eAYA;AAAK,MAAA,SAAS,EAAI7E,MAAM,CAAC8E,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADD,eAEC;AAAK,MAAA,SAAS,EAAI9E,MAAM,CAACsE,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEA,GADF,eAEC;AAAI,MAAA,SAAS,EAAItE,MAAM,CAACmC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkCG,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAahC,OAA/C,eAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvD,QAAgEG,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaY,IAAb,GAAoB,IAApB,GAA2BzC,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAaa,KAAxC,GAAgD,GAAhD,GAAsD1C,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAac,OAAnI,MAFD,CAFD,eAOC;AAAK,MAAA,SAAS,EAAIjF,MAAM,CAAC6B,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACkF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADD,eACmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBrD,KAAK,CAAC,CAAD,CAA7B,CADnC,eAEC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACmF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFD,eAEmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBtD,KAAK,CAAC,CAAD,CAA7B,CAFnC,eAGC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACoF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHD,eAGmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBvD,KAAK,CAAC,CAAD,CAA7B,CAHnC,eAIC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACqF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJD,eAImC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBxD,KAAK,CAAC,CAAD,CAA7B,CAJnC,eAKC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACsF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALD,eAKmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBzD,KAAK,CAAC,CAAD,CAA7B,CALnC,eAMC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACuF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAND,eAMmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB1D,KAAK,CAAC,CAAD,CAA7B,CANnC,eAOC;AAAG,MAAA,SAAS,EAAE7B,MAAM,CAACwF,IAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPD,eAOmC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwB3D,KAAK,CAAC,CAAD,CAA7B,CAPnC,CAPD,CAZA,eA+BC;AAAK,MAAA,SAAS,EAAI7B,MAAM,CAACyF,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAIzF,MAAM,CAAC0F,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,EAECrD,YAAY,CAACC,IAAI,CAACoD,QAAN,EAAgB,UAAhB,CAFb,eAEyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFzC,CADD,eAKC;AAAK,MAAA,SAAS,EAAI1F,MAAM,CAAC2F,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,EAECtD,YAAY,CAACC,IAAI,CAACqD,SAAN,EAAiB,WAAjB,CAFb,eAE2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF3C,CALD,eASC;AAAK,MAAA,SAAS,EAAI3F,MAAM,CAAC4F,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,EAECvD,YAAY,CAACC,IAAI,CAACsD,SAAN,EAAiB,WAAjB,CAFb,eAE2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAF3C,CATD,CA/BD,CADD,eAgDC,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAI1D,qBAAqB,CAACI,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAahC,OAAd,CAA/C;AAAuE,MAAA,KAAK,EAAIG,IAAI,CAAC6B,IAAL,CAAU,CAAV,EAAa0B,KAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDD,CAND,CADD;AA2DD,GApEA,MAqEK;AACJ,wBAAQ,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACA;AACD","sourcesContent":["import React, { useEffect, useState }  from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport Axios from 'axios';\nimport EmptyResultPage from './EmptyResultPage';\nimport Loader from 'react-loader-spinner';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction tConvert (time) {\n  // Check correct time format and split into components\n  time = time.toString ().match (/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) { // If time format correct\n    time = time.slice (1);  // Remove full string match value\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\ttime[3] = \" \";\n  return time.join (''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n\tif (open == close)\n\t\treturn false;\n\tlet o = open.split(':'); // split it at the colons\n\tlet c = close.split(':');\n\t// minutes are worth 60 seconds. Hours are worth 60 minutes.\n\tlet o_seconds = (+o[0]) * 60 * 60 + (+o[1]) * 60 + (+o[2]); \n\tlet c_seconds = (+c[0]) * 60 * 60 + (+c[1]) * 60 + (+c[2]);\n\t\n\tlet seconds = new Date().getTime() / 1000;\n\treturn seconds >= o_seconds && c_seconds >= seconds;\n}\n\n\nfunction mapTileProvider (x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n\tlet hr = [];\n\tfor (let i = 0; i < 7; i++) {\n\t\tif (hours[i].hour_open == hours[i].hour_close) {\n\t\t\thr[i] = \"Closed\";\n\t\t\t}\n\t\telse {\n\t\t\thr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n\t\t}\n\t} \t\n\treturn hr;\n}\n\nfunction generateDirectionLink(address) {\n\treturn `https://www.google.com/maps/dir/?api=1&destination${address.replace(\" \", \"+\")}`;\n}\nfunction createChecks(data, type) {\n\tlet checks = [];\n\tfor (let i = 0; i < data.length; i++)\n\t\tchecks.push(<CheckText name={styles.genericCheck} \n\t\t\t\t\ttext={data[i][type]}\n\t\t\t\t\ttextName={styles.genericCheckText} />);\t\n\treturn checks;\n}\n\nexport default function ResultPage (props) {\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst result = await Axios.get(`../api/getClinicData/${props.match.params.clinic}`).then( function(response) {\n\t\t\tsetData(response.data);\n\t\t\tsetIsLoading(false);\n\t\t\t});\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<div className = {styles.resultContainer}>\n\t\t\t\t<div className = {styles.header}>\n\t\t\t\t\t<Logo name={styles.searchLogo} />\n\t\t\t\t\t<SearchInput />\n\t\t\t\t</div>\n\t\t\t\t<div className = {styles.loaderBody}>\n\t\t\t\t\t<Loader className={styles.loader} type=\"ThreeDots\" color=\"#00Bff\" height={100} width={100} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t}\n\tlet d = new Date();\n\tlet n = d.getDay();\n\n\tif (!(Object.keys(data).length === 0 && data.constructor === Object) && data[\"rows\"].length > 0) {\n\t\tlet hours = convertHours(data.rows);\n\t\tconsole.log(data);\n\t\tconst map = (\n\t\t\t<Map provider={mapTileProvider} center={[data.rows[0].longitude, data.rows[0].latitude]} zoom={16} dprs={[1, 2]} mouseEvents={false} touchEvents={false} width={250} height = {150}>\n\t\t\t\t<Marker anchor={[data.rows[0].longitude, data.rows[0].latitude]} />\n\t\t\t</Map>\n\t\t);\n\n\t\treturn (\n\t\t\t<div className = {styles.resultContainer}>\n\t\t\t\t<div className = {styles.header}>\n\t\t\t\t\t<Logo name={styles.searchLogo}/>\n\t\t\t\t\t<SearchInput />\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div className = {styles.body}>\n\t\t\t\t\t<div className = {styles.content}>\n\n\t\t\t\t\t<div className = {styles.bodyHeader}>\n\t\t\t\t\t\t<h1>{props.match.params.clinic}</h1>\n\t\t\t\t\t\t<h3 className = {styles.currentHour}>{((data.rows[n].hours != \"Closed\") ? \"Open\" : \"\") + \" \" + hours[n]}</h3>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.about}>\n\t\t\t\t\t\t<h2> About </h2>\n\t\t\t\t\t\t<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. </p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.locationHours}>\n\t\t\t\t\t\t<h2> Location and Hours </h2>\n\t\t\t\t\t\t<div className = {styles.map}>\n\t\t\t\t\t\t\t{map}\n\t\t\t\t\t\t\t<h5 className = {styles.address}>{data.rows[0].address}<br />  {data.rows[0].city + \", \" + data.rows[0].state + \" \" + data.rows[0].zipcode} </h5>\t\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className = {styles.hours}>\n\t\t\t\t\t\t\t<b className={styles.day1}>Mon</b><div className=\"hour1\">{hours[0]}</div>\n\t\t\t\t\t\t\t<b className={styles.day2}>Tue</b><div className=\"hour2\">{hours[1]}</div>\n\t\t\t\t\t\t\t<b className={styles.day3}>Wed</b><div className=\"hour3\">{hours[2]}</div>\n\t\t\t\t\t\t\t<b className={styles.day4}>Thu</b><div className=\"hour4\">{hours[3]}</div>\n\t\t\t\t\t\t\t<b className={styles.day5}>Fri</b><div className=\"hour5\">{hours[4]}</div>\n\t\t\t\t\t\t\t<b className={styles.day6}>Sat</b><div className=\"hour6\">{hours[5]}</div>\n\t\t\t\t\t\t\t<b className={styles.day7}>Sun</b><div className=\"hour7\">{hours[6]}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className = {styles.ameneties}>\n\t\t\t\t\t\t\t<div className = {styles.language}>\n\t\t\t\t\t\t\t<h4>Language</h4>\n\t\t\t\t\t\t\t{createChecks(data.language, \"language\")}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className = {styles.insurance}>\n\t\t\t\t\t\t\t<h4>Insurance</h4>\n\t\t\t\t\t\t\t{createChecks(data.insurance, \"insurance\")}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className = {styles.treatment}>\n\t\t\t\t\t\t\t<h4>Treatments</h4>\n\t\t\t\t\t\t\t{createChecks(data.treatment, \"treatment\")}<br />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<SimpleList directions = {generateDirectionLink(data.rows[0].address)} phone = {data.rows[0].phone} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\telse {\n\t\treturn (<EmptyResultPage />);\n\t}\n}\n\n\n"]},"metadata":{},"sourceType":"module"}